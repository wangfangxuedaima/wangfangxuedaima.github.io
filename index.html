<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>前端技术分享</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.css">
    <!-- 主题颜色 有Black (default) - White - League - Sky - Beige - Simple Serif - Blood - Night - Moon - Solarized -->
    <link rel="stylesheet" href="css/theme/black.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

    <style>
        .reveal h3 {
            font-weight: normal;
        }
        
        .reveal h6 {
            margin-top: 60px;
            font-size: 32px;
            font-weight: normal;
        }
        
        .reveal ol li {
            font-size: 30px;
        }
    </style>
</head>

<body>

    <div class="reveal">

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section>
                <h2>前端成长路</h2>
                <a href="./temp/demo.html">
                    <img width="300" height="300" data-src="./images/zxy-15.jpg" alt="Down arrow">
                </a>
                <p>
                    <small>Created by <a target="blank" href="http://www.cnblogs.com/fangshidaima/">王方</a></small>
                </p>
            </section>
            <section>
                <section>
                    <h3>传统的开发模式</h3>
                    <ol>
                        <li>前端做好静态页后，后端开发转为php或vm等，用eclipce等后端环境工作</li>
                        <li>页面中出现 php/jsp等，代码耦合，相互干扰 维护困难 时间越久 问题越突出</li>
                        <li>出现bug时，前后端职责不清晰 高并发时 服务器端压力大</li>
                    </ol>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ques.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <h3>SPA(单页面应用)</h3>
                    <ol>
                        <li>前端不再需要向后台提供模板或是后台在前端html中嵌入后台代码</li>
                        <li>前后端分离的工作流程可以使前端只关注前端的事，后台只关心后台的活，两者开发可以同时进行</li>
                        <li>通过目前主流的前端MVC框架，可以非常快速的定位及发现问题的所在，客户端的问题不再需要后台人员参与及调试，代码重构及可维护性增强。</li>
                    </ol>
                </section>
                <section>
                    <h4></h4>
                    <pre><code class="hljs" data-trim contenteditable>
                            <select>
                                <!--服务器端渲染 -->
                                <option value=''>--请选择所属业务--</option>
                                    {% for p in p_list %}
                                        <option value="{{ p }}">{{ p }}</option>
                                    {% endfor %}
                            </select>
					</code></pre>
                    <pre><code class="hljs" data-trim contenteditable>
                            <!--前端渲染 -->
                            <template>
                                <select id="rander">
                                    <option value=''>--请选择所属业务--</option>
                                    <option v-for="list in lists" :value="list" v-text="list"></option>
                                </select>
                            </template>
                            <script>
                            export default {
                                data: {
                                    return {}
                                },
                                ready: function () {
                                    this.$http({})
                                    .then(function (response) {
                                        this.lists = response.data.lists // 获取服务器端数据并渲染
                                    })
                                }
                            }
                            </script>
					</code></pre>
                </section>
            </section>

            <!-- 开发诉求 -->
            <section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/line.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/experience.png" alt="Down arrow">
                    </a>
                </section>

                <section>
                    <a href="#">
                        <img width="900" height="600" src="./images/suqiu.png">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/suqiu2.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/built.png" alt="Down arrow">
                    </a>
                </section>

            </section>
            <!--node端应用实践-->
            <section>
                <section>
                    <h2>Node端应用实践</h2>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/nodegaikuo.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/bushufenli.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/banben.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/aconite.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/acojiagou.png" alt="Down arrow">
                    </a>
                </section>
            </section>
            <!--中间件机制-->
            <section>
                <section>
                    <h2>中间件机制</h2>
                    <ol>
                        <li>收到请求后和发送响应之前这个阶段执行的一些函数。当有多个中间件时，各个中间件以此与请求路径进行匹配，匹配成功则运行，不成功跳过</li>
                        <li>要在一条路由的处理链上插入中间件 function (req, res, next) 第一个参数是Request对象req。第二个参数是Response对象res。第三个则是用来驱动中间件调用链的函数next</li>
                    </ol>
                    <br>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/midl.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/aco-route.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/aco-render.png" alt="Down arrow">
                    </a>
                </section>
            </section>
            <!--同构-->
            <section>
                <section>
                    <h3>同构渲染</h3>
                    <ol>
                        <li class="fragment">较少首屏白屏时间</li>
                        <li class="fragment">SEO</li>
                        <li class="fragment">复用前端渲染逻辑</li>
                    </ol>
                    <h6 class="fragment">详情可查
                        <a target="blank" href="http://www.tuicool.com/articles/juMjAnj">React同构思想简介</a>
                    </h6>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/xuanranliucheng.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/tonggourukou.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ssr-router.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ssr-render.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/tonggouwebpack.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/fuzadu.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <p>更多可查看<br><a target="blank" href="./doc/actualCombat.pdf">沪江在Node端的实践</a></p>
                </section>
            </section>
            <!--同构的思想-->
            <section>
                <section>
                    <p>关于同构</p>
                </section>
                <section>
                    <h3>再回顾下前后端渲染</h3>
                    <ol>
                        <li>前端渲染：浏览器一侧使用js，借助模版或vue、react、angular等框架做的DOM结构生成。</li>
                        <li>后端渲染：服务器一侧，使用php、nodejs等技术实现DOM结构生成，并在HTTP请求中返回给浏览器。</li>
                        <li>同构：浏览器一侧的JS、HTML和服务器一侧使用的JS、HTML使用同样的开发结构，同样的开发思路，同样的开发模式，尽可能实现代码复用。</li>
                    </ol>
                </section>
                <section>
                    <h3>渲染的历史</h3>
                    <ol>
                        <li class="fragment">Web开发的历程是很有趣的，最初php、asp的年代，一切内容都是服务器渲染的；</li>
                        <li class="fragment">为了节省服务器资源，也更大限度利用客户端缓存，又出现了前后端分离的模式。此时Web的特点是，js和html放到静态目录，也可以CDN扩散，并以ajax方式获取后台的数据，在前端进行DOM组装。这种开发方式沿用至今，这是一个好的工作模式，专业的人做专业的事，确实有利于工作效率提高。</li>
                        <li class="fragment">再而，随着nodejs的流行，前端jser们又开始蠢蠢欲动，尝试吞并web接入这个后台的前沿地盘，把后台推到更后。大概2014年后，又出现了很多nodejs直出的方案，把页面数据都一次在HTML的请求中返回，无需浏览器端再发起ajax获取数据，而且服务器端把DOM结构都渲染好，浏览器按trunk直接做图形渲染即可。不得不说，这个方案带来了很多好处：首屏速度更快，浏览器更省电。当然，随之而来的，就是更复杂的工作模式，jser需要做服务器端的逻辑，甚至一些代码需要同时用在浏览器和nodejs上。</li>
                    </ol>
                </section>
                <section>
                    <a href="#">
                        <img width="1600" height="500" data-src="./images/vuessr.png" alt="Down arrow">
                    </a>
                </section>
            </section>
            <section>
                <section>
                    <h3>对于vue-ssr的一些理解</h3>
                </section>
                <section>
                    <h3>why vue-ssr and its usage seenario</h3>
                    <ol>
                        <li>前端用的是vue, 后端渲染用vue-ssr,可以无缝的和前端连接起来</li>
                        <li>使用vue-ssr可以把数据渲染成HTML, 并在首屏展示, 用户体验好,传统的前端vue, 服务器第一次请求只返回#app的空DOM, 当js和ajax请求完成, 才会展示, 体验差</li>
                        <li>最最最主要的作用是首屏渲染， 不合理的使用会增加服务器压力和流量</li>
                    </ol>
                </section>
                <section>
                    <h3>服务器渲染的奥秘</h3>
                    <ol>
                        <li>Vue全家桶非必须，但是Vuex是必需品</li>
                        <li>服务器渲染，数据必须从服务器取，取了数据之后 达到前后端共享数据， 就得用Vuex</li>
                    </ol>
                </section>
                <section>
                    <h3>前后端共享数据的原因</h3>
                    <p>这就涉及到ssr渲染的奥秘了，按理说，服务端把数据取到之后，渲染成HTML返回到前端，这样前端就用不到这些数据了，取数据只为了渲染，这种情况只适用于纯静态的渲染，就是拿到10条数据，渲染成一个列表，这个列表上没有交互，没有click、hover等效果，但是如果有click事件，有事件处理函数，这些是需要js来做的，但是vue-ssr不能渲染出js，只能是HTML+CSS，也就是说服务器端使用vue-ssr渲染出来的返回到浏览器的也只能是HTML+CSS</p>
                </section>
                <section>
                    <h3>事件怎么办</h3>
                    <p><small>服务器不能增加事件，那只能前端增加。vue-ssr有一个比较关键的地方就是前后必须共用同一套vue文件，也就是说一个.vue文件，前端也要用，后端也要用，为什么要这样做，这样做的原因就是后端从vuex里面取到数据之后，对'template'里面的HTML使用vue的语法进渲染，最终渲染成真正的HTML，对'style'里面的内容，使用loader，抽取成css，所以服务端渲染的成果是HTML+CSS；前端也是从vuex里面取到数据，前端的渲染主要做2件事，1.拿到数据，使用virtual-dom进行预渲染，然后和服务端渲染出来的进行比对，比对两边渲染的内容是不是一致的；2.对DOM元素的事件进行绑定，也就是回答的问题，事件在这块进行的处理。</small></p>
                </section>
            </section>
            <!--angular实践-->
            <section>
                <section>
                    <h3>Angular</h3>
                    <ol>
                        <li>性能优化探索(运行时)</li>
                        <li>工具与工程化</li>
                        <li>常见问题原因以及解决办法</li>
                    </ol>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/angular1.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/angular2.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/angular3.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/angular4.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/angular5.png" alt="Down arrow">
                    </a>
                </section>
            </section>
            <!--angular视图更新机制-->
            <section>
                <section>
                    <h3>视图更新机制</h3>
                    <ol>
                        <li>当对象被绑定到html中后，这个对象才会添加为检查对象（watcher）</li>
                        <li>同样当属性被绑定后，这个属性才会被列为检查的属性</li>
                        <li>angular程序初始化时，会将绑定的对象的属性添加为监听对象(watcher)，也就是说一个对象绑定了N个属性，就会添加N个watcher。</li>
                    </ol>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ng6.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ng7.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ng8.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ng9.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ng10.png" alt="Down arrow">
                    </a>
                </section>
            </section>
            <!--angular2开发遇到的坑-->
            <section>
                <section>
                    <p>angular2开发遇到的坑</p>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ng12.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ng11.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ng13.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ng14.png" alt="Down arrow">
                    </a>
                </section>
                <section>
                    <a href="#">
                        <img width="1300" height="600" data-src="./images/ng15.png" alt="Down arrow">
                    </a>
                </section>
            </section>
            <!--angular更多-->
            <section>
                <p>更多可查看<br><a target="blank" href="./doc/angular2.pdf">Angular2+进阶开发实战</a></p>
            </section>
            <section>
                <p>关于React直接移步<br><a target="blank" href="./doc/react.pdf">React在大型后台管理项目中的工程实践</a></p>
            </section>
            <section>
                <p>对于组件化感兴趣的童靴可移步<br/><a target="blank" href="./doc/react.pdf">富途web前端组件化实践</a></p>
            </section>
            <section>
                <h3>参考文章</h3>
                <ul>
                    <li><a href="http://cnodejs.org/topic/56c7065f37ec9ecb3efc61da">前后端分离的一些想法和实践</a></li>
                    <li><a href="http://www.tuicool.com/articles/juMjAnj">React同构思想简介</a></li>
                    <li><a href="http://www.cnblogs.com/sunjingxin/p/5865327.html">我们为什么要尝试前后端分离</a></li>
                    <li><a href="http://www.cnblogs.com/xuange306/p/6185453.html">nodeJS+vue构建前后端分离</a></li>
                    <li><a href="http://www.cnblogs.com/rubylouvre/p/4128500.html">谈谈前端渲染 VS 后端渲染</a></li>
                </ul>
            </section>
            <section id="transitions">
                <h3>体验动画效果</h3>
                <p>
                    点击每一个都有惊喜: <br>
                    <a href="?transition=none#/transitions">None</a> -
                    <a href="?transition=fade#/transitions">Fade</a> -
                    <a href="?transition=slide#/transitions">Slide</a> -
                    <a href="?transition=convex#/transitions">Convex</a> -
                    <a href="?transition=concave#/transitions">Concave</a> -
                    <a href="?transition=zoom#/transitions">Zoom</a>
                </p>
            </section>
            <section>
                <h1>Q&A</h1>
                <a href="#">
                    <img width="400" height="300" data-src="./images/timg.jpg" alt="Down arrow">
                </a>
            </section>

        </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
        // More info https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            transition: 'slide', // none/fade/slide/convex/concave/zoom 切换特效

            // More info https://github.com/hakimel/reveal.js#dependencies
            dependencies: [{
                src: 'lib/js/classList.js',
                condition: function() {
                    return !document.body.classList;
                }
            }, {
                src: 'plugin/markdown/marked.js',
                condition: function() {
                    return !!document.querySelector('[data-markdown]');
                }
            }, {
                src: 'plugin/markdown/markdown.js',
                condition: function() {
                    return !!document.querySelector('[data-markdown]');
                }
            }, {
                src: 'plugin/highlight/highlight.js',
                async: true,
                callback: function() {
                    hljs.initHighlightingOnLoad();
                }
            }, {
                src: 'plugin/zoom-js/zoom.js',
                async: true
            }, {
                src: 'plugin/notes/notes.js',
                async: true
            }]
        });
    </script>

</body>

</html>